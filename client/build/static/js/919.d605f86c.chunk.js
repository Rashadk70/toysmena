"use strict";(self.webpackChunktoysmena_client=self.webpackChunktoysmena_client||[]).push([[919],{1919:(e,r,t)=>{t.r(r),t.d(r,{default:()=>f});var o=t(9950),i=t(8429),a=t(9808),l=t(2235),n=t(2053),s=t(3174),d=t(9925),u=t(226),c=t(6491),m=t(6080),p=t(5532),h=t(4414);const f=function(){const[e,r]=(0,o.useState)({email:"",password:""}),[t,f]=(0,o.useState)(""),[A,v]=(0,o.useState)(!1),x=(0,i.Zp)(),b=(0,i.zy)(),{login:g}=(0,p.A)(),y=t=>{r({...e,[t.target.name]:t.target.value})};return(0,h.jsx)(a.A,{maxWidth:"sm",sx:{mt:8,mb:4},children:(0,h.jsxs)(l.A,{elevation:3,sx:{p:4,borderRadius:2},children:[(0,h.jsx)(n.A,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"Login"}),t&&(0,h.jsx)(s.A,{severity:"error",sx:{mb:2},children:t}),(0,h.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),f(""),v(!0);try{var t,o;const r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),i=await r.json();if(!r.ok)throw new Error(i.message||"Login failed");g(i);const a=(null===(t=b.state)||void 0===t||null===(o=t.from)||void 0===o?void 0:o.pathname)||"/";x(a,{replace:!0})}catch(i){f(i.message)}finally{v(!1)}},children:[(0,h.jsx)(d.A,{fullWidth:!0,label:"Email",name:"email",type:"email",value:e.email,onChange:y,margin:"normal",required:!0}),(0,h.jsx)(d.A,{fullWidth:!0,label:"Password",name:"password",type:"password",value:e.password,onChange:y,margin:"normal",required:!0}),(0,h.jsx)(u.A,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3},disabled:A,children:A?"Logging in...":"Login"})]}),(0,h.jsx)(c.A,{sx:{mt:2,textAlign:"center"},children:(0,h.jsxs)(n.A,{variant:"body2",children:["Don't have an account?"," ",(0,h.jsx)(m.A,{href:"/register",underline:"hover",children:"Register here"})]})})]})})}},9925:(e,r,t)=>{t.d(r,{A:()=>W});var o=t(8168),i=t(8587),a=t(9950),l=t(2004),n=t(8465),s=t(3539),d=t(9254),u=t(8463),c=t(9890),m=t(470),p=t(3198),h=t(3788),f=t(5979),A=t(8624),v=t(9766),x=t(1676),b=t(1763),g=t(423);function y(e){return(0,g.Ay)("MuiFormHelperText",e)}const w=(0,b.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var j,F=t(4414);const R=["children","className","component","disabled","error","filled","focused","margin","required","variant"],T=(0,d.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.size&&r[`size${(0,x.A)(t.size)}`],t.contained&&r.contained,t.filled&&r.filled]}})((e=>{let{theme:r,ownerState:t}=e;return(0,o.A)({color:(r.vars||r).palette.text.secondary},r.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${w.disabled}`]:{color:(r.vars||r).palette.text.disabled},[`&.${w.error}`]:{color:(r.vars||r).palette.error.main}},"small"===t.size&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})})),q=a.forwardRef((function(e,r){const t=(0,u.b)({props:e,name:"MuiFormHelperText"}),{children:a,className:s,component:d="p"}=t,c=(0,i.A)(t,R),m=(0,v.A)(),p=(0,A.A)({props:t,muiFormControl:m,states:["variant","size","disabled","error","filled","focused","required"]}),h=(0,o.A)({},t,{component:d,contained:"filled"===p.variant||"outlined"===p.variant,variant:p.variant,size:p.size,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required}),f=(e=>{const{classes:r,contained:t,size:o,disabled:i,error:a,filled:l,focused:s,required:d}=e,u={root:["root",i&&"disabled",a&&"error",o&&`size${(0,x.A)(o)}`,t&&"contained",s&&"focused",l&&"filled",d&&"required"]};return(0,n.A)(u,y,r)})(h);return(0,F.jsx)(T,(0,o.A)({as:d,ownerState:h,className:(0,l.A)(f.root,s),ref:r},c,{children:" "===a?j||(j=(0,F.jsx)("span",{className:"notranslate",children:"\u200b"})):a}))}));var z=t(6101);function P(e){return(0,g.Ay)("MuiTextField",e)}(0,b.A)("MuiTextField",["root"]);const S=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],C={standard:c.A,filled:m.A,outlined:p.A},M=(0,d.Ay)(f.A,{name:"MuiTextField",slot:"Root",overridesResolver:(e,r)=>r.root})({}),W=a.forwardRef((function(e,r){const t=(0,u.b)({props:e,name:"MuiTextField"}),{autoComplete:a,autoFocus:d=!1,children:c,className:m,color:p="primary",defaultValue:f,disabled:A=!1,error:v=!1,FormHelperTextProps:x,fullWidth:b=!1,helperText:g,id:y,InputLabelProps:w,inputProps:j,InputProps:R,inputRef:T,label:W,maxRows:L,minRows:N,multiline:k=!1,name:H,onBlur:$,onChange:B,onFocus:I,placeholder:V,required:D=!1,rows:E,select:O=!1,SelectProps:_,type:J,value:Z,variant:G="outlined"}=t,K=(0,i.A)(t,S),Q=(0,o.A)({},t,{autoFocus:d,color:p,disabled:A,error:v,fullWidth:b,multiline:k,required:D,select:O,variant:G}),U=(e=>{const{classes:r}=e;return(0,n.A)({root:["root"]},P,r)})(Q);const X={};"outlined"===G&&(w&&"undefined"!==typeof w.shrink&&(X.notched=w.shrink),X.label=W),O&&(_&&_.native||(X.id=void 0),X["aria-describedby"]=void 0);const Y=(0,s.A)(y),ee=g&&Y?`${Y}-helper-text`:void 0,re=W&&Y?`${Y}-label`:void 0,te=C[G],oe=(0,F.jsx)(te,(0,o.A)({"aria-describedby":ee,autoComplete:a,autoFocus:d,defaultValue:f,fullWidth:b,multiline:k,name:H,rows:E,maxRows:L,minRows:N,type:J,value:Z,id:Y,inputRef:T,onBlur:$,onChange:B,onFocus:I,placeholder:V,inputProps:j},X,R));return(0,F.jsxs)(M,(0,o.A)({className:(0,l.A)(U.root,m),disabled:A,error:v,fullWidth:b,ref:r,required:D,color:p,variant:G,ownerState:Q},K,{children:[null!=W&&""!==W&&(0,F.jsx)(h.A,(0,o.A)({htmlFor:Y,id:re},w,{children:W})),O?(0,F.jsx)(z.A,(0,o.A)({"aria-describedby":ee,id:Y,labelId:re,value:Z,input:oe},_,{children:c})):oe,g&&(0,F.jsx)(q,(0,o.A)({id:ee},x,{children:g}))]}))}))}}]);